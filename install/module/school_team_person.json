{"id":6,"key":"school.team.person","name":"translate:school.module.team.person","output":"<?php\n\nuse Alexplusde\\BS5\\Fragment;\nuse Alexplusde\\School\\Team;\n\n$team = rex_var::toArray(\"REX_VALUE[1]\");\n$team_ids = array_column($team, 'id');\n$persons = Team::query()->where('id', $team_ids)->find();\n\n?>\n<section class=\"mt-5\" id=\"modul-REX_SLICE_ID\">\n\t<h2 class=\"h5\">Kontakt<\/h2>\n\t<?php\n    if ($persons !== null) {\n        ?>\n\t\t<ul class=\"list-unstyled\">\n\t\t\t<?php\n                foreach ($persons as $person) {\n                    $person_fragment = new Fragment();\n                    $person_fragment->setVar('person', $person);\n                    echo $person_fragment->parse(\"school\/team\/person.php\");\n                } \/\/ foreach ($team as $person_id)\n        ?>\n\t\t<\/ul>\n\t<?php\n    } \/\/ if (count($team))\n?>\n<\/section>\n","input":"<?php\n\nuse FriendsOfRedaxo\\MForm;\n\n$mform1 = new MForm();\n\n$mform1->addFieldsetArea(\"\");\n\n$team_sql = rex_sql::factory()->getArray('SELECT id, name FROM rex_school_team ORDER BY name');\n$team = [];\n$team[' '] = \"Bitte w\u00e4hlen\"; \/\/ Leer-Option\nforeach ($team_sql as $person) {\n    $team[$person['id']] = $person['name'];\n}\n$mform1->addSelectField(\"1.0.id\", $team, [\"label\" => 'Mitarbeiter']);\n\necho MBlock::show(1, $mform1->show(), array('min'=>1,'max'=>10));\n","createdate":"2016-10-27 11:36:45","createuser":"aw@alexplus.de","updatedate":"2024-12-11 03:01:31","updateuser":"console","attributes":"","revision":0}