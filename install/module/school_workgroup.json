{"id":7,"key":"school.workgroup","name":"translate:school.module.workgroup","output":"<?php\n\nuse Alexplusde\\School\\Project;\nuse Url\\Url;\n\n$gtb = null;\n$manager = Url::resolveCurrent();\nif ($manager !== null) {\n    $gtb = $manager->getDataset();\n}\n\nif ($gtb === null) {\n    ?>\n<section class=\"modul modul-school_projects\" id=\"modul-REX_SLICE_ID\">\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-md-12\">\r\n\t\t<?php\n$projects = Project::query()\n            ->where('status', '1')\n            ->where('type', 'ag')\n            ->orderBy('weekdays')\n            ->find(); ?>\n\r\n\t\t<table class=\"table\" data-tablesort>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>AG<\/th>\r\n\t\t\t\t\t<th>Treffzeiten<\/th>\r\n\t\t\t\t\t<th>Raum<\/th>\r\n\t\t\t\t\t<th>Ansprechpartner<\/th>\r\n\t\t\t\t\t<th>Bilder?<\/th>\r\n\t\t\t\t\t<th>Details<\/th>\r\n\t\t\t\t<\/tr>\r\n\t\t\t<\/thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<?php foreach ($projects as $project) {\n\t\t\t\t    $room = $project->getRoom();\n\t\t\t\t    $persons = $project->getTeacher();\n\t\t\t\t    $teachers = [];\n\t\t\t\t    foreach ($persons as $person) {\n\t\t\t\t        \/** @var Team $person *\/\n\t\t\t\t        $teachers[] = $person->getName();\n\t\t\t\t    } ?>\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"name\"><?= $project->getName(); ?>\n\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<td data-sort=\"<?= $project->getWeekdays(); ?>\">\r\n\t\t\t\t\t\t<?= $project->getTextDate(); ?>\n\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<td><a\r\n\t\t\t\t\t\t\thref=\"<?= rex_getUrl('', '', ['room-id' => $room->getId()]); ?>\"><?= $room->getName(); ?><\/a>\r\n\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<td><?= implode(\", \", $teachers); ?>\n\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<td><?= count(array_filter(explode(\",\", $project->getImages()))); ?>\n\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<td><?php if ($project->getDescription()) {?><a\r\n\t\t\t\t\t\t\thref=\"<?= rex_getUrl('', '', ['ag-id' => $project->getId()]) ?>\">Details<\/a><?php } ?>\n\t\t\t\t\t<\/td>\r\n\r\n\t\t\t\t<\/tr>\r\n\t\t\t\t<?php\n\t\t\t\t} ?>\n\t\t\t<\/tbody>\r\n\t\t\t<tfoot>\r\n\t\t\t<\/tfoot>\r\n\t\t<\/table>\r\n\t<\/div>\r\n<\/section>\r\n<?php\n}\n","input":"","createdate":"2016-10-27 11:36:49","createuser":"aw@alexplus.de","updatedate":"2024-12-10 21:18:27","updateuser":"mail@alexplus.de","attributes":"","revision":0}