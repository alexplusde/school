{"id":20,"key":"school.team.contact","name":"translate:school.module.team.contact","output":"<?php\n\nuse Alexplusde\\BS5\\Fragment;\nuse Alexplusde\\School\\Team;\n\nuse Url\\Url;\n\n$person;\n$manager = Url::resolveCurrent();\nif ($manager = Url::resolveCurrent()) {\n    \/** @var Team $person *\/\n    $person = $manager->getDataset();\n}\n\nif ($person !== null) {\n    ?>\n    <section class=\"modul modul-team modul-person row\" id=\"modul-REX_SLICE_ID\">\r\n        <div class=\"col-12 col-md-3\">\r\n            <?php\n                $fragment = new Fragment;\n    $fragment->setVar('person', $person);\n    echo $fragment->parse(\"school\/team\/person-small.php\"); ?>\n        <\/div>\r\n        <div class=\"col-12 col-md-9\">\r\n        <?php         #### Kontaktformular ####\n\n        $yform = new rex_yform();\n    $yform->setObjectparams('form_ytemplate', 'bootstrap5,bootstrap');\n    $yform->setObjectparams('form_showformafterupdate', 0);\n    $yform->setObjectparams('real_field_names', true);\n    $yform->setObjectparams('form_name', 'yform-REX_SLICE_ID');\n    $yform->setObjectparams('form_anchor', 'yform-REX_SLICE_ID');\n\n    $yform->setObjectparams('form_action', rex_getUrl('', '', ['team-id' => $person->getId()]));\n\n    $yform->setValueField('text', array(\"name\", \"Ihr Name\"));\n    $yform->setValueField('text', array(\"email\", \"Ihre E-Mail-Adresse\"));\n    $yform->setValidateField('empty', array(\"email\", \"Bitte geben Sie eine g\u00fcltige E-Mail-Adresse an.\"));\n    $yform->setValidateField('empty', array(\"name\", \"Bitte geben Sie einen Namen an.\"));\n    $yform->setValueField('text', array(\"name_student\", \"F\u00fcr Eltern: Name der Sch\u00fclerin \/ des Sch\u00fclers\"));\n    $yform->setValueField('text', array(\"class\", \"Klasse der Sch\u00fclerin \/ des Sch\u00fclers\"));\n    $yform->setValueField('text', array(\"phone\", \"Telefonnummer\"));\n    $yform->setValueField('textarea', array(\"message\", \"Nachricht\"));\n    $yform->setValueField('datestamp', array(\"createdate\", \"Zeitstempel Eintragung\", \"\", \"\", \"1\"));\n    $yform->setValueField('datestamp_auto_delete', ['deletedate', 'L\u00f6schdatum', 'Y-m-d H:i:s', '0', '0', '+6 months']);\n\n    $yform->setValueField('spam_protection', array(\"honeypot\", \"Bitte nicht ausf\u00fcllen.\", \"Ihre Anfrage wurde als Spam erkannt und gel\u00f6scht. Bitte versuchen Sie es in einigen Minuten erneut oder wenden Sie sich pers\u00f6nlich an uns.\", 0));\n\n    $yform->setValueField('html', array(\"\", \"<p>Bitte beachten Sie, dass aus organisatorischen Gr\u00fcnden keine sofortige Zustellung erfolgt. In wichtigen F\u00e4llen, oder Anliegen, die eine Unterschrift ben\u00f6tigen (bspw. Anmeldungen, Entschuldigungen), reicht eine Kontaktaufnahme \u00fcber dieses Formular nicht aus!<\/p>\"));\n\n    $yform->setActionField('tpl2email', array('school_contact_teacher_confirm', 'email', ''));\n    $yform->setActionField('tpl2email', array('school_contact_teacher', '', $person->getEmail()));\n\n    $yform->setActionField('db', array('rex_school_inbox'));\n    $yform->setActionField('showtext', array(\"Vielen Dank f\u00fcr Ihre Nachricht. Bitte vergewissern Sie sich ggf. in ein paar Tagen pers\u00f6nlich, ob die Nachricht zugestellt wurde.\", \"\", \"\", \"1\"));\n\n    echo $yform->getForm();\n    ?>\n        \r\n        <\/div>\r\n    <\/section>\r\n    <?php\n}\n?>\n","input":"","createdate":"2017-05-11 22:56:05","createuser":"aw@alexplus.de","updatedate":"2024-12-10 21:18:27","updateuser":"mail@alexplus.de","attributes":"","revision":0}